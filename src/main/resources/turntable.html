<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @font-face {
            font-family: tiansu;
            src: url("./aa.ttf");
        }
        #wrapper {
            top: 30px;
            margin: 0 auto;
            width: 100%;
            position: relative;
        }
        #title {
            text-align: center;
            height: 40px;
            font-family: tiansu;
            font-size: 30px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<div id="wrapper">
    <div id="title" >
        神奇的餐餐转盘
    </div>
    <div id="my-lucky"></div>
</div>

<!--<script src="./js/lucky-canvas.umd.min.js"></script>-->
<script src="./js/lucky.js"></script>
<script>
    // 设置奖品
    const prizes = []
    let data = ['煮面', '紫菜卷', '麻辣烫', '五爷拌面', '烧烤', '西餐', '苕粉']
    data.forEach((item, index) => {
        prizes.push({
            title: item,
            background: index % 2 ? '#ffffff' : '#ffffff',
            fonts: [{ text: item, top: '24%',fontSize: '30px',fontColor: '#000000',fontFamily: 'tiansu' }],
            // imgs:[{ src: `./img/${index}.png`, width: '30%', top: '35%' }],
        })
    })
    // 创建大转盘抽奖
    let luckyWheel = new LuckyCanvas.LuckyWheel({
        el: '#my-lucky',
        width: '300px',
        height: '300px',
    }, {
        prizes: prizes,
        defaultStyle: {
            fontColor: '#000000',
            fontSize: '14px'
        },
        blocks: [
            { padding: '3px', background: '#000000' }
        ],
        buttons: [
            { radius: '16px', background: '#f6c66f', pointer: false ,
                imgs: [{ src: `./pointer.png`,top: '-75px'}]
            },
        ],
        start () {
            luckyWheel.play()
            setTimeout(() => {
                luckyWheel.stop(Math.random() * 8 >> 0)
            }, 3000)
        },
        end (prize) {
            alert(`恭喜你获得${prize.title}`)
        },
    })
</script>
</body>
</html>